"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getYears = exports.getMonths = void 0;
const isSameYear_1 = __importDefault(require("date-fns/isSameYear"));
const setMonth_1 = __importDefault(require("date-fns/setMonth"));
const setYear_1 = __importDefault(require("date-fns/setYear"));
const startOfMonth_1 = __importDefault(require("date-fns/startOfMonth"));
const startOfYear_1 = __importDefault(require("date-fns/startOfYear"));
const getMonths = (start, end, current) => {
    const dropdownMonths = [];
    if ((0, isSameYear_1.default)(start, end)) {
        const date = (0, startOfMonth_1.default)(start);
        for (let month = start.getMonth(); month <= end.getMonth(); month++) {
            dropdownMonths.push((0, setMonth_1.default)(date, month));
        }
    }
    else if ((0, isSameYear_1.default)(current, end)) {
        const date = (0, startOfMonth_1.default)(new Date());
        for (let month = 0; month <= end.getMonth(); month++) {
            dropdownMonths.push((0, setMonth_1.default)(date, month));
        }
    }
    else if ((0, isSameYear_1.default)(current, start)) {
        const date = (0, startOfMonth_1.default)(start);
        for (let month = date.getMonth(); month <= 11; month++) {
            dropdownMonths.push((0, setMonth_1.default)(date, month));
        }
    }
    else {
        const date = (0, startOfMonth_1.default)(new Date());
        for (let month = 0; month <= 11; month++) {
            dropdownMonths.push((0, setMonth_1.default)(date, month));
        }
    }
    if (!dropdownMonths.map((d) => d.getMonth()).includes(current.getMonth())) {
        dropdownMonths.push(current);
    }
    dropdownMonths.sort((a, b) => a.getMonth() - b.getMonth());
    return dropdownMonths;
};
exports.getMonths = getMonths;
const getYears = (start, end, currentYear) => {
    const years = [];
    const fromYear = start.getFullYear();
    const toYear = end.getFullYear();
    for (let year = fromYear; year <= toYear; year++) {
        years.push((0, setYear_1.default)((0, startOfYear_1.default)(new Date()), year));
    }
    if (fromYear > currentYear || toYear < currentYear) {
        years.push((0, setYear_1.default)((0, startOfYear_1.default)(new Date()), currentYear));
    }
    years.sort((a, b) => a.getFullYear() - b.getFullYear());
    return years;
};
exports.getYears = getYears;
