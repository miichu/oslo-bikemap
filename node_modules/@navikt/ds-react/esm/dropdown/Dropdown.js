import React, { createContext, useState } from "react";
import Toggle from "./Toggle";
import Menu from "./Menu";
export const DropdownContext = createContext(null);
/**
 * A component that displays a dropdown menu when the user clicks on its toggle button.
 *
 * @see [üìù Documentation](https://aksel.nav.no/komponenter/core/dropdown)
 * @see üè∑Ô∏è {@link DropdownProps}
 *
 * @example
 * ```jsx
 * <Dropdown>
 *   <Button as={Dropdown.Toggle}>Toggle</Button>
 *   <Dropdown.Menu>
 *     <Dropdown.Menu.GroupedList>
 *       <Dropdown.Menu.GroupedList.Heading>
 *         Systemer og oppslagsverk
 *       </Dropdown.Menu.GroupedList.Heading>
 *       <Dropdown.Menu.GroupedList.Item>
 *         Gosys
 *       </Dropdown.Menu.GroupedList.Item>
 *       <Dropdown.Menu.GroupedList.Item>
 *         Infotrygd
 *       </Dropdown.Menu.GroupedList.Item>
 *     </Dropdown.Menu.GroupedList>
 *     <Dropdown.Menu.Divider />
 *     <Dropdown.Menu.List>
 *       <Dropdown.Menu.List.Item>Gosys</Dropdown.Menu.List.Item>
 *       <Dropdown.Menu.List.Item>Infotrygd</Dropdown.Menu.List.Item>
 *     </Dropdown.Menu.List>
 *   </Dropdown.Menu>
 * </Dropdown>
 * ```
 */
export const Dropdown = (({ children, onSelect, closeOnSelect = true, defaultOpen = false, open, }) => {
    const [isOpen, setIsOpen] = useState(defaultOpen);
    const [anchorEl, setAnchorEl] = useState(null);
    const handleToggle = (v) => {
        if (open === undefined) {
            setIsOpen(v);
        }
    };
    return (React.createElement(DropdownContext.Provider, { value: {
            isOpen: open !== null && open !== void 0 ? open : isOpen,
            handleToggle,
            anchorEl,
            setAnchorEl,
            onSelect: (event) => {
                onSelect === null || onSelect === void 0 ? void 0 : onSelect(event);
                if (closeOnSelect) {
                    open === undefined && setIsOpen(false);
                }
            },
        } }, children));
});
Dropdown.Toggle = Toggle;
Dropdown.Menu = Menu;
export default Dropdown;
//# sourceMappingURL=Dropdown.js.map